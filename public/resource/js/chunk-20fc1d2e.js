(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20fc1d2e"],{"0ec5":function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("e15d")},1276:function(t,e,n){"use strict";var i=n("d784"),s=n("44e7"),c=n("825a"),a=n("1d80"),o=n("4840"),r=n("8aa5"),u=n("50c4"),l=n("14c3"),d=n("9263"),f=n("d039"),h=[].push,v=Math.min,g=4294967295,m=!f((function(){return!RegExp(g,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(a(this)),c=void 0===n?g:n>>>0;if(0===c)return[];if(void 0===t)return[i];if(!s(t))return e.call(i,t,c);var o,r,u,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,m=new RegExp(t.source,f+"g");while(o=d.call(m,i)){if(r=m.lastIndex,r>v&&(l.push(i.slice(v,o.index)),o.length>1&&o.index<i.length&&h.apply(l,o.slice(1)),u=o[0].length,v=r,l.length>=c))break;m.lastIndex===o.index&&m.lastIndex++}return v===i.length?!u&&m.test("")||l.push(""):l.push(i.slice(v)),l.length>c?l.slice(0,c):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var s=a(this),c=void 0==e?void 0:e[t];return void 0!==c?c.call(e,s,n):i.call(String(s),e,n)},function(t,s){var a=n(i,t,this,s,i!==e);if(a.done)return a.value;var d=c(t),f=String(this),h=o(d,RegExp),p=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),x=new h(m?d:"^(?:"+d.source+")",b),C=void 0===s?g:s>>>0;if(0===C)return[];if(0===f.length)return null===l(x,f)?[f]:[];var w=0,_=0,k=[];while(_<f.length){x.lastIndex=m?_:0;var y,S=l(x,m?f:f.slice(_));if(null===S||(y=v(u(x.lastIndex+(m?0:_)),f.length))===w)_=r(f,_,p);else{if(k.push(f.slice(w,_)),k.length===C)return k;for(var j=1;j<=S.length-1;j++)if(k.push(S[j]),k.length===C)return k;_=w=y}}return k.push(f.slice(w)),k}]}),!m)},"21ab":function(t,e,n){"use strict";var i=n("c31d"),s=n("d282"),c=n("ea8e"),a=n("a142"),o=n("b1d2"),r=n("48f4"),u=n("9884"),l=n("6f2f"),d=n("ad06"),f=Object(s["a"])("grid-item"),h=f[0],v=f[1];e["a"]=h({mixins:[Object(u["a"])("vanGrid")],props:Object(i["a"])(Object(i["a"])({},r["c"]),{},{dot:Boolean,text:String,icon:String,iconPrefix:String,info:[Number,String],badge:[Number,String]}),computed:{style:function(){var t=this.parent,e=t.square,n=t.gutter,i=t.columnNum,s=100/i+"%",a={flexBasis:s};if(e)a.paddingTop=s;else if(n){var o=Object(c["a"])(n);a.paddingRight=o,this.index>=i&&(a.marginTop=o)}return a},contentStyle:function(){var t=this.parent,e=t.square,n=t.gutter;if(e&&n){var i=Object(c["a"])(n);return{right:i,bottom:i,height:"auto"}}}},methods:{onClick:function(t){this.$emit("click",t),Object(r["b"])(this.$router,this)},genIcon:function(){var t=this.$createElement,e=this.slots("icon"),n=Object(a["b"])(this.badge)?this.badge:this.info;return e?t("div",{class:v("icon-wrapper")},[e,t(l["a"],{attrs:{dot:this.dot,info:n}})]):this.icon?t(d["a"],{attrs:{name:this.icon,dot:this.dot,info:n,size:this.parent.iconSize,classPrefix:this.iconPrefix},class:v("icon")}):void 0},getText:function(){var t=this.$createElement,e=this.slots("text");return e||(this.text?t("span",{class:v("text")},[this.text]):void 0)},genContent:function(){var t=this.slots();return t||[this.genIcon(),this.getText()]}},render:function(){var t,e=arguments[0],n=this.parent,i=n.center,s=n.border,c=n.square,a=n.gutter,r=n.direction,u=n.clickable;return e("div",{class:[v({square:c})],style:this.style},[e("div",{style:this.contentStyle,attrs:{role:u?"button":null,tabindex:u?0:null},class:[v("content",[r,{center:i,square:c,clickable:u,surround:s&&a}]),(t={},t[o["a"]]=s,t)],on:{click:this.onClick}},[this.genContent()])])}})},2830:function(t,e,n){"use strict";var i=n("d282"),s=n("ea8e"),c=n("b1d2"),a=n("9884"),o=Object(i["a"])("grid"),r=o[0],u=o[1];e["a"]=r({mixins:[Object(a["b"])("vanGrid")],props:{square:Boolean,gutter:[Number,String],iconSize:[Number,String],direction:String,clickable:Boolean,columnNum:{type:[Number,String],default:4},center:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},computed:{style:function(){var t=this.gutter;if(t)return{paddingLeft:Object(s["a"])(t)}}},render:function(){var t,e=arguments[0];return e("div",{style:this.style,class:[u(),(t={},t[c["d"]]=this.border&&!this.gutter,t)]},[this.slots()])}})},"3df5":function(t,e,n){"use strict";n("68ef"),n("75ad")},"44e7":function(t,e,n){var i=n("861d"),s=n("c6b6"),c=n("b622"),a=c("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==s(t))}},"75ad":function(t,e,n){},7935:function(t,e,n){"use strict";var i=n("9dfa"),s=n.n(i);s.a},"9dfa":function(t,e,n){},b7b1:function(t,e,n){"use strict";var i=n("f2ea"),s=n.n(i);s.a},c5b0:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"common_title"},[n("h1",[t._v("Digital Agent Hub")]),n("h2",[t._v(t._s(t.$t(t.text)))])])},s=[],c=(n("e346"),n("ce0e"),n("95eb"),{name:"commonTitle",props:{text:{type:String,default:"Text"}}}),a=c,o=(n("b7b1"),n("2877")),r=Object(o["a"])(a,i,s,!1,null,"4a19bbbf",null);e["a"]=r.exports},e15d:function(t,e,n){},f2ea:function(t,e,n){},fac7:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index"},[n("HeaderBar",{attrs:{action:""}}),n("div",{staticClass:"main"},[n("CommonTitle",{attrs:{text:"My Favourites"}}),n("div",{staticClass:"list"},t._l(t.list,(function(e,i){return n("div",{key:i,staticClass:"list_item"},[n("div",{staticClass:"content"},[n("div",{staticClass:"left"},[n("h2",[t._v(t._s(e.content&&e.content.title))]),n("p",[t._v(t._s(e.content&&e.content.publishtime))])]),n("div",{staticClass:"right"},[n("div",{staticClass:"icons"},[n("i",{staticClass:"iconfont iconyanjing",on:{click:function(n){return t.showImg(e.content&&e.content.images)}}}),n("a",{staticStyle:{color:"black"},attrs:{href:e.content&&e.content.document}},[n("i",{staticClass:"iconfont iconxiazai"})]),e.favorite?n("i",{staticClass:"iconfont iconshoucang1",on:{click:function(n){return t.unfavourites(e.content_id)}}}):n("i",{staticClass:"iconfont iconshoucang",on:{click:function(n){return t.favourites(e.content_id)}}})])])])])})),0),n("div",{staticClass:"img_list"},[n("p",{staticClass:"title"},[t._v("My favourite images")]),n("div",{staticClass:"grid"},[n("Grid",{attrs:{center:!1,border:!1,"column-num":3}},t._l(t.imgList,(function(e,i){return n("gridItem",{key:i},[n("div",{staticClass:"container"},[n("img",{attrs:{src:e.content&&e.content.image,alt:""}}),n("div",{staticClass:"icons"},[n("i",{staticClass:"iconfont iconyanjing",on:{click:function(n){return t.showImg(e.content&&e.content.images)}}}),n("a",{staticStyle:{color:"black"},attrs:{href:e.content&&e.content.document}},[n("i",{staticClass:"iconfont iconxiazai"})]),e.favorite?n("i",{staticClass:"iconfont iconshoucang1",on:{click:function(n){return t.unfavourites(e.content_id)}}}):n("i",{staticClass:"iconfont iconshoucang",on:{click:function(n){return t.favourites(e.content_id)}}})])]),n("div",{staticClass:"img_title"},[t._v(t._s(e.content&&e.content.title))])])})),1)],1)]),n("div",{staticClass:"video_list"},[n("p",{staticClass:"title"},[t._v("My favourite videos")]),n("div",{staticClass:"grid"},[n("Grid",{attrs:{center:!1,border:!1,"column-num":3}},t._l(t.videoList,(function(e,i){return n("gridItem",{key:i},[n("div",{staticClass:"container"},[n("video",{attrs:{id:"video"+i,src:e.content&&e.content.document,poster:e.content&&e.content.poster}}),n("div",{staticClass:"icons"},[n("i",{staticClass:"play iconfont iconbofang",on:{click:function(e){return t.playVideo(i)}}}),n("a",{staticStyle:{color:"black"},attrs:{href:e.content&&e.content.document}},[n("i",{staticClass:"iconfont iconxiazai"})]),e.favorite?n("i",{staticClass:"iconfont iconshoucang1",on:{click:function(n){return t.unfavourites(e.content_id)}}}):n("i",{staticClass:"iconfont iconshoucang",on:{click:function(n){return t.favourites(e.content_id)}}})])]),n("div",{staticClass:"video_title"},[t._v(t._s(e.content&&e.content.title))])])})),1)],1)])],1),n("BottomNavbar"),n("Dialog",{attrs:{title:"长按保存图片"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"thumb"},[n("img",{attrs:{src:"http://img95.699pic.com/photo/50134/1363.jpg_wh300.jpg",alt:""}})])])],1)},s=[],c=(n("ac1f"),n("1276"),n("4662"),n("28a2")),a=(n("96cf"),n("1da1")),o=(n("e7e5"),n("d399")),r=(n("e17f"),n("2241")),u=(n("0ec5"),n("21ab")),l=(n("3df5"),n("2830")),d=(n("e346"),n("ce0e")),f=n("95eb"),h=n("c5b0"),v=(n("365c"),{components:{HeaderBar:d["a"],BottomNavbar:f["a"],Grid:l["a"],gridItem:u["a"],CommonTitle:h["a"],Dialog:r["a"].Component,Toast:o["a"]},data:function(){return{show:!1,video:{},list:[],imgList:[],videoList:[]}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.fetchData();case 1:case"end":return e.stop()}}),e)})))()},methods:{showImg:function(t){t?Object(c["a"])(t.split(",")):o["a"].fail("no image")},favourites:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$api.post("member/favourites",{content_id:t});case 2:e.fetchData();case 3:case"end":return n.stop()}}),n)})))()},unfavourites:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$api.post("member/unfavourites",{content_id:t});case 2:e.fetchData();case 3:case"end":return n.stop()}}),n)})))()},fetchData:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.post("member/favor");case 2:n=e.sent,t.list=n.documents,t.imgList=n.images,t.videoList=n.videos;case 6:case"end":return e.stop()}}),e)})))()},toggleDialog:function(){this.show=!this.show},playVideo:function(t){this.video=document.getElementById("video"+t),this.video.paused?(this.video.play(),this.fullScreen()):this.video.pause()},fullScreen:function(){this.video.requestFullScreen?this.video.requestFullScreen():this.video.webkitRequestFullScreen?this.video.webkitRequestFullScreen():this.video.mozRequestFullScreen?this.video.mozRequestFullScreen():this.video.msRequestFullScreen&&this.video.msRequestFullScreen()}}}),g=v,m=(n("7935"),n("2877")),p=Object(m["a"])(g,i,s,!1,null,"21995174",null);e["default"]=p.exports}}]);